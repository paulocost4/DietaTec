'use strict';var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var AccessToken=require('react-native').NativeModules.FBAccessToken;var NativeEventEmitter=require('react-native').NativeEventEmitter;var eventEmitter=new NativeEventEmitter(AccessToken);var FBAccessToken=function(){function FBAccessToken(tokenMap){(0,_classCallCheck2.default)(this,FBAccessToken);(0,_defineProperty2.default)(this,"accessToken",void 0);(0,_defineProperty2.default)(this,"permissions",void 0);(0,_defineProperty2.default)(this,"declinedPermissions",void 0);(0,_defineProperty2.default)(this,"expiredPermissions",void 0);(0,_defineProperty2.default)(this,"applicationID",void 0);(0,_defineProperty2.default)(this,"userID",void 0);(0,_defineProperty2.default)(this,"expirationTime",void 0);(0,_defineProperty2.default)(this,"lastRefreshTime",void 0);(0,_defineProperty2.default)(this,"dataAccessExpirationTime",void 0);(0,_defineProperty2.default)(this,"accessTokenSource",void 0);this.accessToken=tokenMap.accessToken;this.permissions=tokenMap.permissions;this.declinedPermissions=tokenMap.declinedPermissions;this.expiredPermissions=tokenMap.expiredPermissions;this.applicationID=tokenMap.applicationID;this.userID=tokenMap.userID;this.expirationTime=tokenMap.expirationTime;this.lastRefreshTime=tokenMap.lastRefreshTime;this.dataAccessExpirationTime=tokenMap.dataAccessExpirationTime;this.accessTokenSource=tokenMap.accessTokenSource;Object.freeze(this);}(0,_createClass2.default)(FBAccessToken,[{key:"getExpires",value:function getExpires(){return this.expirationTime;}},{key:"getPermissions",value:function getPermissions(){return this.permissions;}},{key:"getDeclinedPermissions",value:function getDeclinedPermissions(){return this.declinedPermissions;}},{key:"getExpiredPermissions",value:function getExpiredPermissions(){return this.expiredPermissions;}},{key:"getLastRefresh",value:function getLastRefresh(){return this.lastRefreshTime;}},{key:"getDataAccessExpiration",value:function getDataAccessExpiration(){return this.dataAccessExpirationTime;}},{key:"getApplicationId",value:function getApplicationId(){return this.applicationID;}},{key:"getUserId",value:function getUserId(){return this.userID;}}],[{key:"getCurrentAccessToken",value:function getCurrentAccessToken(){return new Promise(function(resolve,reject){AccessToken.getCurrentAccessToken(function(tokenMap){if(tokenMap){resolve(new FBAccessToken(tokenMap));}else{resolve(null);}});});}},{key:"setCurrentAccessToken",value:function setCurrentAccessToken(accessToken){AccessToken.setCurrentAccessToken(accessToken);}},{key:"refreshCurrentAccessTokenAsync",value:function refreshCurrentAccessTokenAsync(){return AccessToken.refreshCurrentAccessTokenAsync();}},{key:"addListener",value:function addListener(listener){var subscription=eventEmitter.addListener('fbsdk.accessTokenDidChange',function(tokenMap){if(tokenMap){listener(new FBAccessToken(tokenMap));}else{listener(null);}});return function(){return subscription.remove();};}}]);return FBAccessToken;}();module.exports=FBAccessToken;
//# sourceMappingURL=FBAccessToken.js.map